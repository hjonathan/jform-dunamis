{"remainingRequest":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qsrodri/pm4/jsonforms-vuetify-renderers/example/src/components/DemoForm.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/example/src/components/DemoForm.vue","mtime":1645564537319},{"path":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/node_modules/cache-loader/dist/cjs.js","mtime":1645670383911},{"path":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/node_modules/babel-loader/lib/index.js","mtime":1645670388105},{"path":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/node_modules/ts-loader/index.js","mtime":1645670388499},{"path":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/node_modules/cache-loader/dist/cjs.js","mtime":1645670383911},{"path":"/Users/qsrodri/pm4/jsonforms-vuetify-renderers/node_modules/vue-loader/lib/index.js","mtime":1645670389517}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IFByb3BUeXBlIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgRXhhbXBsZSwgUmVzb2x2ZWRTY2hlbWEgfSBmcm9tICdAL2NvcmUvdHlwZXMnOwppbXBvcnQgeyBBanYgfSBmcm9tICdhanYnOwppbXBvcnQgewogIFZhbGlkYXRpb25Nb2RlLAogIEpzb25Gb3Jtc1VJU2NoZW1hUmVnaXN0cnlFbnRyeSwKICBKc29uRm9ybXNSZW5kZXJlclJlZ2lzdHJ5RW50cnksCiAgSnNvbkZvcm1zQ2VsbFJlbmRlcmVyUmVnaXN0cnlFbnRyeSwKICBKc29uU2NoZW1hLAogIEpzb25Gb3Jtc0kxOG5TdGF0ZSwKfSBmcm9tICdAanNvbmZvcm1zL2NvcmUnOwppbXBvcnQgeyBKc29uRm9ybXMsIEpzb25Gb3Jtc0NoYW5nZUV2ZW50IH0gZnJvbSAnQGpzb25mb3Jtcy92dWUyJzsKaW1wb3J0IEpzb25SZWZzIGZyb20gJ2pzb24tcmVmcyc7CmltcG9ydCB7IGNyZWF0ZVRyYW5zbGF0b3IgfSBmcm9tICcuLi9pMThuJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGVtby1mb3JtJywKICBjb21wb25lbnRzOiB7CiAgICBKc29uRm9ybXMsCiAgfSwKICBwcm9wczogewogICAgZXhhbXBsZTogeyB0eXBlOiBPYmplY3QgYXMgUHJvcFR5cGU8RXhhbXBsZT4sIHJlcXVpcmVkOiB0cnVlIH0sCiAgICByZW5kZXJlcnM6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IEFycmF5IGFzIFByb3BUeXBlPEpzb25Gb3Jtc1JlbmRlcmVyUmVnaXN0cnlFbnRyeVtdPiwKICAgIH0sCiAgICBjZWxsczogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IEFycmF5IGFzIFByb3BUeXBlPEpzb25Gb3Jtc0NlbGxSZW5kZXJlclJlZ2lzdHJ5RW50cnlbXT4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICAgIGNvbmZpZzogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IE9iamVjdCBhcyBQcm9wVHlwZTxhbnk+LAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQsCiAgICB9LAogICAgcmVhZG9ubHk6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICB1aXNjaGVtYXM6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBBcnJheSBhcyBQcm9wVHlwZTxKc29uRm9ybXNVSVNjaGVtYVJlZ2lzdHJ5RW50cnlbXT4sCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICAgIHZhbGlkYXRpb25Nb2RlOiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogU3RyaW5nIGFzIFByb3BUeXBlPFZhbGlkYXRpb25Nb2RlPiwKICAgICAgZGVmYXVsdDogJ1ZhbGlkYXRlQW5kU2hvdycsCiAgICB9LAogICAgYWp2OiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogT2JqZWN0IGFzIFByb3BUeXBlPEFqdj4sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwKICAgIH0sCiAgICBsb2NhbGU6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdlbicsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc29sdmVkU2NoZW1hOiB7CiAgICAgICAgc2NoZW1hOiB1bmRlZmluZWQsCiAgICAgICAgcmVzb2x2ZWQ6IGZhbHNlLAogICAgICAgIGVycm9yOiB1bmRlZmluZWQsCiAgICAgIH0gYXMgUmVzb2x2ZWRTY2hlbWEsCiAgICAgIGkxOG46IHsKICAgICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLAogICAgICAgIHRyYW5zbGF0ZTogY3JlYXRlVHJhbnNsYXRvcih0aGlzLmxvY2FsZSksCiAgICAgIH0gYXMgSnNvbkZvcm1zSTE4blN0YXRlLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBleGFtcGxlOiB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGhhbmRsZXIobmV3RXhhbXBsZTogRXhhbXBsZSwgb2xkRXhhbXBsZTogRXhhbXBsZSk6IHZvaWQgewogICAgICAgIHRoaXMucmVzb2x2ZVNjaGVtYShuZXdFeGFtcGxlLmlucHV0LnNjaGVtYSk7CiAgICAgIH0sCiAgICB9LAogICAgbG9jYWxlKG5ld0xvY2FsZTogc3RyaW5nKTogdm9pZCB7CiAgICAgIGNvbnNvbGUubG9nKCdMT0NBTEUgU1dJVENIJywgbmV3TG9jYWxlKTsKICAgICAgdGhpcy5pMThuLmxvY2FsZSA9IG5ld0xvY2FsZTsKICAgICAgdGhpcy5pMThuLnRyYW5zbGF0ZSA9IGNyZWF0ZVRyYW5zbGF0b3IobmV3TG9jYWxlKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5yZXNvbHZlU2NoZW1hKHRoaXMuZXhhbXBsZS5pbnB1dC5zY2hlbWEpOwogIH0sCiAgbWV0aG9kczogewogICAgb25DaGFuZ2UoZXZlbnQ6IEpzb25Gb3Jtc0NoYW5nZUV2ZW50KTogdm9pZCB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGV2ZW50KTsKICAgIH0sCiAgICByZXNvbHZlU2NoZW1hKHNjaGVtYT86IEpzb25TY2hlbWEpOiB2b2lkIHsKICAgICAgY29uc3QgcmVzb2x2ZWRTY2hlbWEgPSB0aGlzLnJlc29sdmVkU2NoZW1hOwogICAgICByZXNvbHZlZFNjaGVtYS5zY2hlbWEgPSB1bmRlZmluZWQ7CiAgICAgIHJlc29sdmVkU2NoZW1hLnJlc29sdmVkID0gZmFsc2U7CiAgICAgIHJlc29sdmVkU2NoZW1hLmVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgaWYgKHNjaGVtYSkgewogICAgICAgIEpzb25SZWZzLnJlc29sdmVSZWZzKHNjaGVtYSkudGhlbigKICAgICAgICAgIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgcmVzb2x2ZWRTY2hlbWEuc2NoZW1hID0gcmVzLnJlc29sdmVkOwogICAgICAgICAgICByZXNvbHZlZFNjaGVtYS5yZXNvbHZlZCA9IHRydWU7CiAgICAgICAgICB9LAogICAgICAgICAgZnVuY3Rpb24gKGVycjogRXJyb3IpIHsKICAgICAgICAgICAgcmVzb2x2ZWRTY2hlbWEucmVzb2x2ZWQgPSB0cnVlOwogICAgICAgICAgICByZXNvbHZlZFNjaGVtYS5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICAgICAgfQogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gbm90aGluZyB0byByZXNvbHZlCiAgICAgICAgcmVzb2x2ZWRTY2hlbWEucmVzb2x2ZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["DemoForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DemoForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <json-forms\n      v-if=\"resolvedSchema.resolved && resolvedSchema.error === undefined\"\n      :data=\"example.input.data\"\n      :schema=\"resolvedSchema.schema\"\n      :uischema=\"example.input.uischema\"\n      :renderers=\"renderers\"\n      :cells=\"cells\"\n      :config=\"config\"\n      :uischemas=\"uischemas\"\n      :validationMode=\"validationMode\"\n      :ajv=\"ajv\"\n      :readonly=\"readonly\"\n      :i18n=\"i18n\"\n      @change=\"onChange\"\n    />\n    <v-container v-else>\n      <v-row\n        v-if=\"!resolvedSchema.resolved\"\n        class=\"fill-height\"\n        align-content=\"center\"\n        justify=\"center\"\n      >\n        <v-col class=\"text-subtitle-1 text-center\" cols=\"12\">\n          Resolving Schema Refs\n        </v-col>\n        <v-col cols=\"6\">\n          <v-progress-linear\n            indeterminate\n            rounded\n            height=\"6\"\n          ></v-progress-linear>\n        </v-col>\n      </v-row>\n      <v-row\n        v-else-if=\"resolvedSchema.error !== undefined\"\n        class=\"fill-height\"\n        align-content=\"center\"\n        justify=\"center\"\n      >\n        <v-col class=\"text-subtitle-1 text-center\" cols=\"12\">\n          <v-alert color=\"red\" dark>\n            {{ resolvedSchema.error }}\n          </v-alert>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType } from 'vue';\nimport { Example, ResolvedSchema } from '@/core/types';\nimport { Ajv } from 'ajv';\nimport {\n  ValidationMode,\n  JsonFormsUISchemaRegistryEntry,\n  JsonFormsRendererRegistryEntry,\n  JsonFormsCellRendererRegistryEntry,\n  JsonSchema,\n  JsonFormsI18nState,\n} from '@jsonforms/core';\nimport { JsonForms, JsonFormsChangeEvent } from '@jsonforms/vue2';\nimport JsonRefs from 'json-refs';\nimport { createTranslator } from '../i18n';\n\nexport default {\n  name: 'demo-form',\n  components: {\n    JsonForms,\n  },\n  props: {\n    example: { type: Object as PropType<Example>, required: true },\n    renderers: {\n      required: true,\n      type: Array as PropType<JsonFormsRendererRegistryEntry[]>,\n    },\n    cells: {\n      required: false,\n      type: Array as PropType<JsonFormsCellRendererRegistryEntry[]>,\n      default: () => [],\n    },\n    config: {\n      required: false,\n      type: Object as PropType<any>,\n      default: undefined,\n    },\n    readonly: {\n      required: false,\n      type: Boolean,\n      default: false,\n    },\n    uischemas: {\n      required: false,\n      type: Array as PropType<JsonFormsUISchemaRegistryEntry[]>,\n      default: () => [],\n    },\n    validationMode: {\n      required: false,\n      type: String as PropType<ValidationMode>,\n      default: 'ValidateAndShow',\n    },\n    ajv: {\n      required: false,\n      type: Object as PropType<Ajv>,\n      default: undefined,\n    },\n    locale: {\n      required: false,\n      type: String,\n      default: 'en',\n    },\n  },\n  data() {\n    return {\n      resolvedSchema: {\n        schema: undefined,\n        resolved: false,\n        error: undefined,\n      } as ResolvedSchema,\n      i18n: {\n        locale: this.locale,\n        translate: createTranslator(this.locale),\n      } as JsonFormsI18nState,\n    };\n  },\n  watch: {\n    example: {\n      deep: true,\n      handler(newExample: Example, oldExample: Example): void {\n        this.resolveSchema(newExample.input.schema);\n      },\n    },\n    locale(newLocale: string): void {\n      console.log('LOCALE SWITCH', newLocale);\n      this.i18n.locale = newLocale;\n      this.i18n.translate = createTranslator(newLocale);\n    },\n  },\n  mounted() {\n    this.resolveSchema(this.example.input.schema);\n  },\n  methods: {\n    onChange(event: JsonFormsChangeEvent): void {\n      this.$emit('change', event);\n    },\n    resolveSchema(schema?: JsonSchema): void {\n      const resolvedSchema = this.resolvedSchema;\n      resolvedSchema.schema = undefined;\n      resolvedSchema.resolved = false;\n      resolvedSchema.error = undefined;\n\n      if (schema) {\n        JsonRefs.resolveRefs(schema).then(\n          function (res) {\n            resolvedSchema.schema = res.resolved;\n            resolvedSchema.resolved = true;\n          },\n          function (err: Error) {\n            resolvedSchema.resolved = true;\n            resolvedSchema.error = err.message;\n          }\n        );\n      } else {\n        // nothing to resolve\n        resolvedSchema.resolved = true;\n      }\n    },\n  },\n};\n</script>\n"]}]}